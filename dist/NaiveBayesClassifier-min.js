!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.NaiveBayesClassifier=t():e.NaiveBayesClassifier=t()}(this,function(){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var n=r(2),i=o(n),a=r(6),u=o(a);i["default"].VERSION=r(8).version,i["default"].DataStore=u["default"],e.exports=i["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=r(3),u=o(a),s=r(4),c=o(s),l=r(5),f=o(l),d=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];n(this,e),this.learn=u["default"],this.categorize=c["default"],this.VERSION=e.VERSION,this.tokenizer=t.tokenizer||f["default"],this.dataStore=t.dataStore||new e.DataStore}return i(e,[{key:"frequencyTable",value:function t(e){var t={};return e.forEach(function(e){e="_"+e,t[e]?t[e]+=1:t[e]=1}),t}},{key:"tokenProbability",value:function(e,t){var r=this.dataStore.getTokenFrequencyCount(t,e)||0,o=this.dataStore.getTokenCount(t);return(r+1)/(o+this.dataStore.getVocabularySize())}}]),e}();t["default"]=d,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){t=this.dataStore.getOrCreateCategory(t),this.dataStore.incrementDocFrequencyCount(t),console.log(this.dataStore.getDocFrequencyCount(t)),this.dataStore.incrementTotalNumberOfDocuments();var r=this.tokenizer(e),o=this.frequencyTable(r);return Object.keys(o).forEach(function(e){if("_"!==e){this.dataStore.addWordToVocabulary(e);var r=o[e];this.dataStore.incrementTokenFrequencyCount(t,e,r),this.dataStore.incrementTokenCount(t,r)}}.bind(this)),this}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function r(e){var t=this,r=-(1/0),o=0,n={},i={},a=this.tokenizer(e),u=this.frequencyTable(a),s=this.dataStore.getCategories(),c=!0,l=!1,f=void 0;try{for(var d,h=function(){var e=d.value;return s[e]?{v:void 0}:(p=t.dataStore.getDocFrequencyCount(e)/t.dataStore.getTotalNumberOfDocuments(),console.log("============",e,t.dataStore.getDocFrequencyCount(e),t.dataStore.getTotalNumberOfDocuments(),p),v=Math.log(p),Object.keys(u).forEach(function(t){var r=this.tokenProbability(t,e);v+=Math.log(r)*u[t],console.log("token: %s | category: `%s` | probability: %d",t,e,r)}.bind(t)),p=Math.exp(v),o+=p,v>r&&(r=v,n={category:e,probability:p}),void(i[e]=p))},y=s[Symbol.iterator]();!(c=(d=y.next()).done);c=!0){var p,v,b=h();if("object"==typeof b)return b.v}}catch(m){l=!0,f=m}finally{try{!c&&y["return"]&&y["return"]()}finally{if(l)throw f}}return Object.keys(i).forEach(function(e){i[e]/=o}),{category:n.category||"unclassified",probability:(n.probability/=o)||-(1/0),categories:i}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function r(e){var t=new RegExp(/[^\w\s]/g),r=e.replace(t," ").toLowerCase();return r.split(/\s+/)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=function(e,t,r){for(var o=!0;o;){var n=e,i=t,a=r;u=c=s=void 0,o=!1,null===n&&(n=Function.prototype);var u=Object.getOwnPropertyDescriptor(n,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=i,r=a,o=!0}},s=r(7),c=o(s),l=Symbol("vocabulary"),f=Symbol("categories"),d=Symbol("docFrequencyCount"),h=Symbol("totalNumberOfDocuments"),y=Symbol("tokenFrequencyCount"),p=Symbol("tokenCount"),v=function(e){function t(){n(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this[l]=new Set,this[f]=new Set,this[d]={},this[h]=0,this[y]={},this[p]={}}return i(t,e),a(t,[{key:"addWordToVocabulary",value:function(e){this[l].add(e)}},{key:"getVocabularySize",value:function(){return this[l].size}},{key:"getCategories",value:function(){return this[f]}},{key:"getOrCreateCategory",value:function(e){return this[f].has(e)||(this[d][e]=0,this[y][e]={},this[p][e]=0,this[f].add(e)),this[f].has(e)?e:void 0}},{key:"getDocFrequencyCount",value:function(e){return this[d][e]}},{key:"incrementDocFrequencyCount",value:function(e){return this[d][e]=this[d][e]||0,this[d][e]+=1}},{key:"getTokenFrequencyCount",value:function(e,t){return this[y][e]?this[y][e][t]:void 0}},{key:"incrementTokenFrequencyCount",value:function(e,t,r){this[y][e]&&(this[y][e][t]=this[y][e][t]||0,this[y][e][t]+=r)}},{key:"getTokenCount",value:function(e){return this[p][e]}},{key:"incrementTokenCount",value:function(e,t){this[p][e]=this[p][e]||0,this[p][e]+=t}},{key:"getTotalNumberOfDocuments",value:function(){return this[h]}},{key:"incrementTotalNumberOfDocuments",value:function(){return this[h]+=1}}]),t}(c["default"]);t["default"]=v,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function n(){if(r(this,n),"AbstractDataStore"===this.constructor.name)throw new TypeError("Cannot construct `AbstractDataStore` instance directly");if(!this.addWordToVocabulary)throw new Error("DataStore must override `addWordToVocabulary` method");if(!this.getVocabularySize)throw new Error("DataStore must override `getVocabularySize` method");if(!this.getOrCreateCategory)throw new Error("DataStore must override `getOrCreateCategory` method");if(!this.getDocFrequencyCount)throw new Error("DataStore must override `getDocFrequencyCount` method");if(!this.incrementDocFrequencyCount)throw new Error("DataStore must override `incrementDocFrequencyCount` method");if(!this.getTokenFrequencyCount)throw new Error("DataStore must override `getTokenFrequencyCount` method");if(!this.incrementTokenFrequencyCount)throw new Error("DataStore must override `incrementTokenFrequencyCount` method");if(!this.getTokenCount)throw new Error("DataStore must override `getTokenCount` method");if(!this.incrementTotalNumberOfDocuments)throw new Error("DataStore must override `incrementTotalNumberOfDocuments` method")};t["default"]=o,e.exports=t["default"]},function(e,t){e.exports={name:"naivebayesclassifier",title:"NaiveBayesClassifier",version:"0.3.0",description:"NaiveBayesClassifier is a Multinomial Naive-Bayes Classifier that uses Laplace Smoothing.",keywords:["naive","bayes","classifier","multinomial","machine learning","learn","categorize","classify"],main:"dist/NaiveBayesClassifier.js",scripts:{test:"gulp test"},author:{name:"Hadi Michael",url:"http://hadi.io"},repository:{type:"git",url:"git://github.com/hadimichael/NaiveBayesClassifier.git"},license:"BSD-3-Clause",devDependencies:{"babel-core":"^5.8.21","babel-loader":"^5.3.2",grunt:"^0.4.5","grunt-jsdoc":"^0.5.8",gulp:"^3.8.11","gulp-babel":"^5.2.0","gulp-concat":"^2.6.0","gulp-gh-pages":"^0.5.1","gulp-grunt":"^0.5.2","gulp-jshint":"^1.10.0","gulp-minify":"0.0.5","gulp-mocha":"^2.0.1","gulp-umd":"^0.1.3","json-loader":"^0.5.2",mocha:"^2.2.5",webpack:"^1.10.5","webpack-stream":"^2.1.0"},dependencies:{leveldown:"^1.3.0",levelup:"^1.2.1"}}}])});