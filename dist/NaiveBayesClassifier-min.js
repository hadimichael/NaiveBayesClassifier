!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.NaiveBayesClassifier=t():e.NaiveBayesClassifier=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(2),a=n(o),i=r(6),u=n(i);a["default"].VERSION=r(7).version,a["default"].DataStore=u["default"],e.exports=a["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(3),u=n(i),s=r(4),l=n(s),c=r(5),f=n(c),y=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,e),this.learn=u["default"],this.categorize=l["default"],this.VERSION=e.VERSION,this.tokenizer=t.tokenizer||f["default"],this.dataStore=t.dataStore||new e.DataStore}return a(e,[{key:"generateFrequencyMapForTokens",value:function(e){var t=new Map;return e.forEach(function(e){if(e){var r=(t.get(e)||0)+1;t.set(e,r)}}),t}},{key:"tokenProbabilityInCategory",value:function(e,t){var r=this.dataStore.getTokenFrequencyForCategory(e,t),n=this.dataStore.getNumberOfTokensForCategory(t);return(r+1)/(n+this.dataStore.getVocabularySize())}}]),e}();t["default"]=y,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){this.dataStore.add1DocForCategory(t);var r=this.tokenizer(e),o=this.generateFrequencyMapForTokens(r),a=!0,i=!1,u=void 0;try{for(var s,l=o[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=n(s.value,2),f=c[0],y=c[1];this.dataStore.addAmountToTokenFrequencyForCategory(y,f,t)}}catch(d){i=!0,u=d}finally{try{!a&&l["return"]&&l["return"]()}finally{if(i)throw u}}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(s){o=!0,a=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function r(e){var t=-(1/0),r=0,o={},a={},i=this.tokenizer(e),u=this.generateFrequencyMapForTokens(i),s=this.dataStore.getCategories(),l=!0,c=!1,f=void 0;try{for(var y,d=s[Symbol.iterator]();!(l=(y=d.next()).done);l=!0){var h=y.value,g=this.dataStore.getNumberOfDocsForCategory(h)/this.dataStore.getTotalNumberOfDocuments(),p=Math.log(g),v=!0,b=!1,m=void 0;try{for(var S,k=u[Symbol.iterator]();!(v=(S=k.next()).done);v=!0){var C=n(S.value,2),w=C[0],x=C[1],F=this.tokenProbabilityInCategory(w,h);p+=Math.log(F)*x}}catch(O){b=!0,m=O}finally{try{!v&&k["return"]&&k["return"]()}finally{if(b)throw m}}g=Math.exp(p),r+=g,p>t&&(t=p,o={category:h,probability:g}),a[h]=g}}catch(O){c=!0,f=O}finally{try{!l&&d["return"]&&d["return"]()}finally{if(c)throw f}}return Object.keys(a).forEach(function(e){a[e]/=r}),{category:o.category||"unclassified",probability:(o.probability/=r)||-(1/0),categories:a}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(s){o=!0,a=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function r(e){var t=new RegExp(/[^\w\s]/g),r=e.replace(t," ").toLowerCase();return r.split(/\s+/)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=Symbol("vocabulary"),a=Symbol("categories"),i=Symbol("numberOfDocsPerCategory"),u=Symbol("totalNumberOfDocuments"),s=Symbol("tokenFrequencyPerCategory"),l=Symbol("numberOfTokensPerCategory"),c=Symbol("getCategoryWithName"),f=function(){function e(){r(this,e),this[o]=new Set,this[a]=new Set,this[i]={},this[u]=0,this[s]={},this[l]={},this[c]=function(e){if(!e)throw Error("category name cannot be `undefined`");return e=e.toString(),this[a].has(e)||(this[a].add(e),this[i][e]=0,this[s][e]={},this[l][e]=0),this[a].has(e)?e:void 0}}return n(e,[{key:"getVocabularySize",value:function(){return this[o].size}},{key:"getCategories",value:function(){return this[a]}},{key:"add1DocForCategory",value:function(e){return this[u]+=1,this[i][this[c](e)]+=1}},{key:"getNumberOfDocsForCategory",value:function(e){return this[i][this[c](e)]}},{key:"getTotalNumberOfDocuments",value:function(){return this[u]}},{key:"getNumberOfTokensForCategory",value:function(e){return this[l][this[c](e)]}},{key:"getTokenFrequencyForCategory",value:function(e,t){return e=e.toString(),this[s][this[c](t)][e]=this[s][t][e]||0,this[s][t][e]}},{key:"addAmountToTokenFrequencyForCategory",value:function(e,t,r){t=t.toString(),this[o].add(t),this.getTokenFrequencyForCategory(t,r),this[s][this[c](r)][t]+=e,this[l][this[c](r)]+=e}}]),e}();t["default"]=f,e.exports=t["default"]},function(e,t){e.exports={name:"naivebayesclassifier",title:"NaiveBayesClassifier",version:"0.3.0",description:"NaiveBayesClassifier is a Multinomial Naive-Bayes Classifier that uses Laplace Smoothing.",keywords:["naive","bayes","classifier","multinomial","machine learning","learn","categorize","classify"],main:"dist/NaiveBayesClassifier.js",scripts:{test:"gulp test"},author:{name:"Hadi Michael",url:"http://hadi.io"},repository:{type:"git",url:"git://github.com/hadimichael/NaiveBayesClassifier.git"},license:"BSD-3-Clause",devDependencies:{"babel-core":"^5.8.21","babel-loader":"^5.3.2",grunt:"^0.4.5","grunt-jsdoc":"^0.5.8",gulp:"^3.8.11","gulp-babel":"^5.2.0","gulp-concat":"^2.6.0","gulp-gh-pages":"^0.5.1","gulp-grunt":"^0.5.2","gulp-jshint":"^1.10.0","gulp-minify":"0.0.5","gulp-mocha":"^2.0.1","gulp-umd":"^0.1.3","json-loader":"^0.5.2",mocha:"^2.2.5",webpack:"^1.10.5","webpack-stream":"^2.1.0"},dependencies:{leveldown:"^1.3.0",levelup:"^1.2.1"}}}])});